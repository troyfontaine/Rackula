# gh-dash Configuration Design

**Date:** 2026-01-13
**Status:** Approved
**Issue:** To be created

## Overview

Set up gh-dash as a TUI dashboard for monitoring Rackula issues and PRs during development. The configuration is generated by a script to dynamically include the next milestone.

## Requirements

1. Config lives in project root (`.gh-dash.yml`) â€” version controlled, auto-detected
2. Both PR and Issue views are equally important
3. Next milestone section should be dynamically calculated from current version
4. Generated config is committed to git (works immediately after clone)
5. Keybindings optimized for Warp terminal + Zed IDE workflow

## Design

### File Structure

```
scripts/generate-gh-dash-config.js   # Generator script
.gh-dash.yml                          # Generated config (committed)
```

### Generator Script

**Location:** `scripts/generate-gh-dash-config.js`

**Logic:**

1. Read version from `package.json` (e.g., `0.6.16`)
2. Query GitHub API for open milestones via `gh api`
3. Parse milestone versions, find first milestone > current version with open issues
4. Generate `.gh-dash.yml` with detected milestone
5. Write file with header comment noting generation source

**Usage:**

```bash
node scripts/generate-gh-dash-config.js
```

### Generated Config Structure

```yaml
# AUTO-GENERATED by scripts/generate-gh-dash-config.js
# Next milestone: v0.7.0 (detected from package.json v0.6.16)
# Regenerate with: node scripts/generate-gh-dash-config.js

defaults:
  view: issues
  prsLimit: 20
  issuesLimit: 20
  refetchIntervalMinutes: 5

prSections:
  - title: "Failing CI"
    filters: >-
      is:open
      status:failure
  - title: "All Open"
    filters: "is:open"

issueSections:
  - title: "Ready"
    filters: "is:open label:ready"
  - title: "In Progress"
    filters: "is:open label:in-progress"
  - title: "v0.7.0"
    filters: "is:open milestone:v0.7.0"
  - title: "Priority"
    filters: >-
      is:open
      label:priority:high,priority:urgent
  - title: "Spikes"
    filters: "is:open label:spike"

repoPaths:
  RackulaLives/*: ~/code/projects/Rackula/*

keybindings:
  universal:
    - key: e
      command: zed {{.RepoPath}}
    - key: y
      command: echo "{{.Number}}" | pbcopy
  prs:
    - key: c
      builtin: checkout
    - key: b
      builtin: browser
  issues:
    - key: b
      builtin: browser
```

### Section Breakdown

**PR Sections (2 tabs):**
| Section | Filter | Purpose |
|---------|--------|---------|
| Failing CI | `is:open status:failure` | PRs needing attention |
| All Open | `is:open` | Full context view |

**Issue Sections (5 tabs):**
| Section | Filter | Purpose |
|---------|--------|---------|
| Ready | `is:open label:ready` | Work queue |
| In Progress | `is:open label:in-progress` | Active work |
| {next milestone} | `is:open milestone:{version}` | Next release scope |
| Priority | `is:open label:priority:high,priority:urgent` | Urgent items |
| Spikes | `is:open label:spike` | Research tasks |

### Keybindings

| Key | Scope      | Action                            |
| --- | ---------- | --------------------------------- |
| `e` | Universal  | Open repo in Zed                  |
| `y` | Universal  | Copy issue/PR number to clipboard |
| `c` | PRs        | Checkout PR branch                |
| `b` | PRs/Issues | Open in browser                   |

## Implementation Steps

1. Create `scripts/generate-gh-dash-config.js` with milestone detection logic
2. Run script to generate initial `.gh-dash.yml`
3. Commit both files
4. Document usage in README or CLAUDE.md

## Maintenance

- Run `node scripts/generate-gh-dash-config.js` after releases to update milestone
- Could be added to post-release npm script if desired
